<h1>Residents list</h1>
<%= button_to 'New Resident', new_resident_path, :method => :get, :class => 'right new_button' %>

<table>
  <tr>
    <th><%= link_to 'First', :order => :first_name, :first_name_direction => (params[:first_name_direction] == 'asc' ? 'desc' : 'asc') %>/
        <%= link_to 'Last', :order => :last_name, :last_name_direction => (params[:last_name_direction] == 'asc' ? 'desc' : 'asc') %></th>
    <th><%= link_to 'primary_phone_number', :order => :phone, :phone_direction => (params[:phone_direction] == 'asc' ? 'desc' : 'asc') %></th>
    <th># of homes</th>
  </tr>
<%= paginate @residents %>
<% @residents.each do |resident| %>
  <tr>
    <td><%= link_to_name resident %></td>
    <td><%= resident.primary_phone_number %></td>
    <td><%= pluralize(resident.units.count, 'unit') %></td>
    <td><%= link_to 'Edit', edit_resident_path(resident) %></td>
    <td><%= link_to 'Destroy', resident, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>
<%= paginate @residents %>
<br />
